!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Dominar=e()}}(function(){var e,t,i;return function e(t,i,n){function s(r,o){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(a)return a(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[r]={exports:{}};t[r][0].call(c.exports,function(e){var i=t[r][1][e];return s(i?i:e)},c,c.exports,e,t,i,n)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(e,t,i){!function(e){e.forEach=function(e,t,i){var n=-1,s=e.length>>>0;!function a(r){var o,l=r===!1;do++n;while(!(n in e)&&n!==s);return l||n===s?void(i&&i(!l,e)):(r=t.call({async:function(){return o=!0,a}},e[n],n,e),void(o||a(r)))}()}}("object"==typeof i&&i||this)},{}],2:[function(e,t,i){function n(e,t,i,n){this.name=e,this.options=i,this.fields=t,this.container=a.element(this.fields[0]).closest(this.options.container),this.dominar=n,this.options.message&&(this.message=this._getMessageElement()),this.options.feedback&&(this.feedback=this._getFeedbackElement())}var s=e("validatorjs"),a=e("./utils");n.prototype={validate:function(e,t){var i=this.getValue(),n=this;e=e||a.noop,t=t||a.noop,this.validator&&delete this.validator;var s=this.validator=this.getValidator();n.validatedValue=void 0;var r=function(){n.showSuccess(),n.validatedValue=i,e()},o=function(){n.showError(s.errors.first(n.name)),t(s.errors.first(n.name))};return s.hasAsync?s.checkAsync(r,o):void(s.passes()?r():o())},validateDelayed:function(e,t){var i=this,n=this.options.delay;e=e||a.noop,t=t||a.noop,clearTimeout(this.delayTimer),n?this.delayTimer=setTimeout(function(){i.validate.apply(i,[e,t])},n):this.validate(e,t)},_fireValidate:function(e){var t=this._getTrigger(e);t.validate&&(t.delay?this.validateDelayed():this.validate())},getValidationOptions:function(){var e={},t={};e[this.name]=this.getValue(),t[this.name]=this.getRules(),0===t[this.name].length&&delete t[this.name];var i=this._getIncludeValues();i.length&&(e=a.extend(e,this.dominar._getFieldValues(i)));var n={data:e,rules:t,customMessages:this.options.customMessages,customAttributes:this.options.customAttributes};return this.options.validatorOptions&&(n=this.options.validatorOptions.call(this,n)),n},_getIncludeValues:function(){var e=this.options.includeValues||[];if(this._hasRule("confirmed")){var t=this.name+"_confirmation";e.indexOf(t)===-1&&e.push(t)}var i=this._getRuleOptions("same");return i&&e.push(i.options[0]),e},getValidator:function(){var e=this.getValidationOptions(),t=new s(e.data,e.rules,e.customMessages);return e.customAttributes&&t.setAttributeNames(e.customAttributes),t},getRules:function(){return this.options.rules},_hasRule:function(e){var t=this._getRuleOptions(e);return!!t},_getRuleOptions:function(e){var t=this.options.rules;"string"==typeof t&&(t=t.split("|"));for(var i=new RegExp("^"+e+"(?:$|:(.*))","i"),n=0,s=t.length,a;n<s;n++)if(a=i.exec(t[n])){var r={name:e,options:void 0===a[1]?void 0:a[1].split(",")};return r}},getValue:function(){return a.elementValues(this.fields)},getValidatedValue:function(){return this.validatedValue},_getTrigger:function(e){var t=e.type,i="keyup"==t,n=this.options.triggers.indexOf(t)>-1,s=this.options.delayTriggers.indexOf(t)>-1,a=(i&&9!==e.keyCode||!i)&&n;return{validate:a,delay:s}},_getMessageElement:function(){var e=this.container.getElementsByClassName("help-block");return e.length?e[0]:(e=a.element("span").addClass("help-block"),this.container.appendChild(e.get()),e.get())},_getFeedbackElement:function(){var e=this.container.getElementsByClassName("form-control-feedback");return e.length?e[0]:(e=a.element("span").addClass("form-control-feedback"),this.container.appendChild(e.get()),e.get())},_showFeedbackType:function(e){var t=this.options.feedback;return t instanceof Array?t.indexOf(e)>-1:t},_show:function(e,t){this.reset(),a.element(this.container).addClass("has-"+e),this.options.message&&(this.message.innerHTML=t||""),this._showFeedbackType(e)&&this.showFeedback(e)},showError:function(e){this._show("error",e)},showSuccess:function(e){this._show("success",e)},showFeedback:function(e){a.element(this.container).addClass("has-feedback"),this.feedback.innerHTML=this.options.feedbackIcons[e]},reset:function(){a.element(this.container).removeClass("has-error has-success has-feedback"),this.message&&(this.message.innerHTML=""),this.feedback&&(this.feedback.innerHTML="")}},t.exports=n},{"./utils":4,validatorjs:"validatorjs"}],3:[function(e,t,i){(function(i){function n(e,t,i){this.form=e,this.options=t||{},this.config=o.extend(this.configDefaults,i),this.fields={},this._bindEvents()}var s=e("validatorjs"),a=e("./dominar-field"),r=e("async-foreach").forEach,o=e("./utils");n.prototype={defaults:{container:".form-group",delay:300,delayTriggers:["keyup"],rules:"",triggers:["keyup","focusout","change"],message:!0,customMessages:{},customAttributes:{},feedback:!0,feedbackIcons:{success:'<i class="glyphicon glyphicon-check"></i>',error:'<i class="glyphicon glyphicon-remove"></i>'}},configDefaults:{validateOnSubmit:!0,triggers:["keyup","focusout","change"]},eventHandlers:{},_bindEvents:function(){for(var e=this,t=0,i=this.config.triggers.length,n;t<i;t++)n=this.config.triggers[t],this.form.addEventListener(n,this.eventHandlers[n]=function(t){e._fireValidate.call(e,t)});this.form.addEventListener("submit",this.eventHandlers.submit=function(t){e._fireSubmit.call(e,t)})},_unbindEvents:function(){for(var e in this.eventHandlers)this.form.removeEventListener(e,this.eventHandlers[e])},getField:function(e){if("string"==typeof e){if(e=this.$('[name="'+e+'"]'),!e.length)return}else e=[e];var t=e[0].name,i=this.fields[t];return i?i:(this.options[t]&&(i=new a(t,e,this._getOptions(t),this),this.fields[t]=i,this._trigger("InitField",{dominarField:i})),i)},_getFieldValues:function(e){for(var t={},i=0,n=e.length,s;i<n;i++)s=e[i],t[s]=o.elementValues(this.$('[name="'+s+'"]'));return t},_getOptions:function(e){var t=this.options[e];return o.extend(this.defaults,t)},$:function(e){return o.$(e,this.form)},add:function(e,t){for(var i=this,n=0,s=e.length;n<s;n++)i.options[e[n].name]=t;return this},_trigger:function(e,t,i){var n="dominar"+e,t=t||{};t.dominar=this;var s=document.createEvent("CustomEvent");return s.initCustomEvent(n,!0,!0,t),this.form.dispatchEvent(s),i&&!s.defaultPrevented&&i(),s},_fireValidate:function(e){var t=e.target.tagName.toLowerCase();if(["input","select","textarea"].indexOf(t)!==-1){var i=this.getField(e.target.name);i&&i._fireValidate(e)}},_fireSubmit:function(e){var t=this;if(t.config.validateOnSubmit){e.preventDefault();var i=function(){e.target.submit()},n=function(){t._trigger("SubmitFailed")},s=function(){t.validateAll(function(){t._trigger("SubmitPassed",{},i)},function(){t._trigger("SubmitFailed",{},n)})};t._trigger("Submit",{},s)}},validate:function(e,t,i){var n=this.getField(e);n&&n.validate(t,i)},validateDelayed:function(e,t,i){var n=this.getField(e);n&&n.validateDelayed(t,i)},validateAll:function(e,t){e=e||o.noop,t=t||o.noop;var i=this,n=Object.keys(this.options),s=0;r(n,function(e){var t=this.async(),n=i.getField(e);n.validate(function(){s++,t()},t)},function(i){s===n.length?e():t()})},destroy:function(){this._unbindEvents();for(var e in this.fields)this.fields[e].reset();this.fields={}}},n.Validator=s,i.Dominar=n,t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./dominar-field":2,"./utils":4,"async-foreach":1,validatorjs:"validatorjs"}],4:[function(e,t,i){function $(e,t){return e instanceof Array?e:Array.prototype.slice.call(t.querySelectorAll(e))}function n(){}function s(e,t){var i={};for(var n in e)i[n]=e[n];for(var n in t)i[n]=t[n];return i}function a(e){return e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector}function r(e){var t=e[0].type;if("radio"==t||"checkbox"==t){for(var i=0,n=e.length,s,a=[];i<n;i++)s=e[i],s.checked&&a.push(s.value);return"radio"==t?a.shift():a}return e[0].value}function o(e){"string"==typeof e&&(e=document.createElement(e)),this.element=e}o.prototype={hasClass:function(e){var t=a(this.element);return t.call(this.element,"."+e)},addClass:function(e){var t=this.element.className;return this.hasClass(e)||(this.element.className+=(t.length?" ":"")+e),this},removeClass:function(e){for(var t=e.split(" "),i=this.element.className,n=0,s=t.length;n<s;n++)e=t[n],this.hasClass(e)&&(i=i.replace(new RegExp("(^|\\s)"+e+"(\\s|$)")," ").replace(/\s$/,""));return this.element.className=i,this},find:function(e){return $(e,this.element)},closest:function(e){for(var t=e.charAt(0),i=this.element.parentElement,n=a(i);i;){if(n.call(i,e))return i;i=i.parentElement}return null},get:function(){return this.element}},t.exports={$:$,element:function(e){return new o(e)},noop:n,extend:s,elementValues:r}},{}]},{},[3])(3)});
//# sourceMappingURL=./dominar.js.map